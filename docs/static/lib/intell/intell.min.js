/* !intell.js | https://github.com/xhighintell/jintellv2 */
"use strict";!function(){var n=globalThis.intell,n={version:"2.0.0"};(globalThis.intell=n).EventRegister=function e(t,n){if(this instanceof e==0)return new e(t);var i=e.prototype;null==i.addListener&&(i.addListener=function(e){if("function"!=typeof e)throw new Error("The callback must be function.");this.listeners.push(e)},i.removeListener=function(e){e=this.listeners.indexOf(e);-1!=e&&this.listeners.splice(e,1)},i.dispatch=function(){for(var e=this.option.once,t=0;t<this.listeners.length;t++){var n=this.listeners[t];try{var i=n.apply(this.target,arguments)}catch(e){console.error(e)}if(!0===e&&(this.listeners.splice(t,1),t--),"stop"==i||"stopPropagation"==i)break}},i.hasListener=function(e){return-1!=this.listeners.indexOf(e)},i.hasListeners=function(){return 0<this.listeners.length}),(i=this).option={},i.listeners=[],i.target=t,null!=n&&null!=n.once&&(i.option.once=n.once)},n.createOnOff=function e(t){if(null==t)throw new Error("target can't be null");var n,r=e;null==r.getListeners&&(n=Symbol("createOnOff.listenerInformaions"),r.get=function(e){return null==e[n]&&(e[n]=[]),e[n]},r.on=function(e,t,n,i){return"string"==typeof t?(this.addEventListener(e,n,i),r.get(this).push({name:t,type:e,listener:n,options:i})):this.addEventListener.apply(this,arguments),this},r.off=function(e){for(var t=r.get(this),n=0;n<t.length;n++){var i=t[n];i.name==e&&(this.removeEventListener(i.type,i.listener,i.options),t.splice(n,1),n--)}return this}),t.on=r.on,t.off=r.off},n.get=function(e){var t=new XMLHttpRequest;return t.open("GET",e),n.createOnOff(t),t.loadstart=function(e){return this.on("loadstart",e)},t.readystatechange=function(e){return this.on("readystatechange",e)},t.progress=function(e){return this.on("progress",e)},t.load=function(e){return this.on("load",e)},t.loadend=function(e){return this.on("loadend",e)},t.error=function(e){return this.on("error",e)},t},n.post=function(e){var t=new XMLHttpRequest;return t.open("POST",e),n.createOnOff(t),t.loadstart=function(e){return this.on("loadstart",e)},t.readystatechange=function(e){return this.on("readystatechange",e)},t.progress=function(e){return this.on("progress",e)},t.load=function(e){return this.on("load",e)},t.loadend=function(e){return this.on("loadend",e)},t.error=function(e){return this.on("error",e)},t},n.qs=function(e){for(var t,n=(e=null==e?window.location.search.substr(1):e).split("&"),i={},r=0;r<n.length;r++)""!=n[r]&&((t=n[r].split("="))[0]=decodeURIComponent(t[0]),t[1]=decodeURIComponent(null==t[1]?"":t[1]),i[t[0]]=t[1]);return i},n.wait=function(t){return new Promise(e=>setTimeout(e,t))}}(),function(){var s,d;null!=globalThis.window&&(intell.ctrl,d={},(intell.ctrl=d).show=function(e){if(0==arguments.length)throw new TypeError("Failed to execute 'show' on 'intell.ctrl': 1 argument required, but only 0 present.");e instanceof HTMLElement!=0&&("none"==e.style.display&&(e.style.display=""),"none"==getComputedStyle(e).display)&&(window.CSS?.supports&&1==CSS.supports("display","revert")?e.style.display="revert":e.style.display="block")},d.hide=function(e){"none"!=getComputedStyle(e).display&&(e.style.display="none")},s=[],d.startHide=function(n,i,r){var o,e=s.find(function(e){return e.element==n});return null!=e?e.promise:(e=new Promise(function(e,t){null!=r&&n.classList.add.apply(n.classList,r.split(" ").filter(function(e){return""!=e})),o=setTimeout(function(){d.stopHide(n),d.hide(n),e()},i)}),s.push({element:n,timer:o,class:r,promise:e}),e)},d.stopHide=function(e){for(var t=0;t<s.length;t++){var n,i=s[t];i.element==e&&(null!=(n=i.class)&&e.classList.remove.apply(e.classList,n.split(" ").filter(function(e){return""!=e})),clearTimeout(i.timer),s.splice(t,1),t--)}},d.getBoundingClientRectOffset=function(e){e=e.getBoundingClientRect();return e.x+=window.scrollX,e.y+=window.scrollY,e},d.getRectWhenShowAtRect=function(e,t,n,i){var r=i?.space??0,o=i?.margin??0,s=i?.container,l=0,a=new DOMRect(0,0,e.width,e.height);switch(n){case 1:case 9:a.x=t.x;break;case 2:case 8:a.x=t.x+(t.width-e.width)/2;break;case 3:case 7:a.x=t.x+t.width-e.width;break;case 4:case 5:case 6:a.x=t.x+t.width+r;break;case 10:case 11:case 12:a.x=t.x-e.width-r}switch(n){case 1:case 2:case 3:a.y=t.y-a.height-r;break;case 4:case 12:a.y=t.y;break;case 5:case 11:a.y=t.y+(t.height-a.height)/2;break;case 6:case 10:a.y=t.y+t.height-a.height;break;case 7:case 8:case 9:a.y=t.y+t.height+r}if(null!=s){switch(n){case 1:case 2:case 3:a.y-o<s.y&&(a.y=s.y+o,l--);break;case 4:case 5:case 6:a.x+a.width+o>s.x+s.width&&(a.x=s.x+s.width-o-a.width,l--);break;case 7:case 8:case 9:a.y+a.height+o>s.y+s.height&&(a.y=s.y+s.height-o-a.height,l--);break;case 10:case 11:case 12:a.x-o<s.x&&(a.x=s.x+o,l--)}a.x+a.width+o>s.x+s.width&&(a.x=s.x+s.width-a.width-o),a.x<s.x&&(a.x=s.x),a.y+a.height+o>s.y+s.height&&(a.y=s.y+s.height-a.height-o),a.y<s.y&&(a.y=s.y)}return{location:n,rect:a,score:l}},d.getRectWhenShowAtCoord=function(e,t,n,i){return d.getRectWhenShowAtRect(e,new DOMRect(t.x??t.left,t.y??t.top,0,0),n,i)},d.showAt=function(e,t,n,i){return t instanceof HTMLElement?d.showAtElement(e,t,n,i):null!=t.width&&null!=t.height?d.showAtRect(e,t,n,i):d.showAtCoord(e,t,n,i)},d.showAtRect=function(e,t,n,i){if(null==n)throw new TypeError("locations can't be null");if(null!=i?.container_mode&&"auto"==i.container_mode){var r=Object.assign({},i),o=d.findParentElement(e,function(e){return e==document.documentElement||"visible"!=(e=getComputedStyle(e)).overflow&&"static"!=e.position});if(null!=o){var s=Math.max(o.clientWidth,o.offsetWidth,o.scrollWidth)-1,l=Math.max(o.clientHeight,o.offsetHeight,o.scrollHeight)-1,a=$(o).offset();let e=o.offsetWidth-o.clientWidth,t=o.offsetHeight-o.clientHeight;o!=document.documentElement&&o!=document.body||(e=0,t=0),r.container=new DOMRect(a.left,a.top,s-e,l-t),i=r}}$(e).css({left:"-900px",visibility:"hidden"}),d.show(e);var c=d.getBoundingClientRectOffset(e),u=n.map(function(e){return d.getRectWhenShowAtRect(c,t,e,i)}),o=u.sort(function(e,t){e=256*e.score-u.indexOf(e);return 256*t.score-u.indexOf(t)-e})[0];return $(e).offset({left:o.rect.x,top:o.rect.y}).css({visibility:""}),o},d.showAtCoord=function(e,t,n,i){t=new DOMRect(t.x??t.left,t.y??t.top,0,0);return d.showAtRect(e,t,n,i)},d.showAtElement=function(e,t,n,i){t=d.getBoundingClientRectOffset(t);return d.showAtRect(e,t,n,i)},d.findParentElement=function(e,t){for(var n=e.parentElement;n;){if(1==t(n))return n;n=n.parentElement}},d.findClosestElement=function(e,t){for(var n=e;n;){if(1==t(n))return n;n=n.parentElement}},d.rectIntersect=function(e,t){var n=Math.max(e.x,t.x),i=Math.min(e.x+e.width,t.x+t.width),r=Math.max(e.y,t.y),e=Math.min(e.y+e.height,t.y+t.height);return n<=i&&r<=e?new DOMRect(n,r,i-n,e-r):null},d.duplicateNodes=function(e){var t=[];return e.forEach(e=>t.push(e.cloneNode(!0))),t})}(),function(){var e,t,i;null!=globalThis.window&&(intell.ctrl.template,e={},intell.ctrl.template=e,t=Symbol?Symbol("__private"):"__private",e.inherit=function(e,t){e.prototype.getPrivate=i.getPrivate;var n=t.ctrlKey??(Symbol?new Symbol:"ctrlKey");e.getItem=function(e){return e[n]},e.setItem=function(e,t){return e[n]=t}},e.defineProperties=function(e,t){return Object.defineProperties(e,t)},i={getPrivate:function(e){return this[t]??(this[t]=e)}})}(),function(){var v=intell.portal,v={};(intell.portal=v).Portal=function e(t){if(this instanceof e==0)return new e(t);if(null==t)throw new TypeError("Failed to construct 'Portal': element can't be null.");var o,n,s,l,a,i,r,c=this,u=(c.applications=[],$(t)),d=u.find(".Portal-Content"),h=d.find(".Portal-Applications"),m=(0==d.length&&(d=$('<main class="Portal-Content"></main>').appendTo(u)),0==h.length&&(h=$('<div class="Portal-Applications"></div>').appendTo(d)),c.applications),f=c.activeApplication,p=[],g=[];Object.defineProperties(c,{element:{get:function(){return t},set:function(){throw new Error("'Portal.element' cannot be assigned to -- it is read only")}},applications:{get:function(){return m.slice()},set:function(){throw new Error("'Portal.applications' cannot be assigned to -- it is read only")}},activeApplication:{get:function(){return f},set:function(e){this.open(e)}}}),c.add=function(e){if(null==e.manifest)throw new Error;e.manifest.shortcut??=!0,e.manifest.startup??=!1,e.status??="NONE",e.onOpen??=new intell.EventRegister(e),null==this.taskbar.get(e)&&(m.push(e),!0===e.manifest.shortcut)&&(e.elementShortcut=this.taskbar.add(e))},c.addManifest=function(e,t){var n=new v.Application,e=(null!=e.id&&(n.manifest.id=e.id),null!=e.name&&(n.manifest.name=e.name),null!=e.description&&(n.manifest.description=e.description),null!=e.title&&(n.manifest.title=e.title),null!=e.icon&&(n.manifest.icon=e.icon),null!=e.iconText&&(n.manifest.iconText=e.iconText),null!=e.shortcut&&(n.manifest.shortcut=e.shortcut),null!=e.group&&(n.manifest.group=e.group),null!=e.startup&&(n.manifest.startup=e.startup),null!=e.content&&(null!=e.content.html&&(n.manifest.content.html=e.content.html),null!=e.content.js&&(n.manifest.content.js=e.content.js),null!=e.content.css)&&(n.manifest.content.css=e.content.css),n.manifest);null==this.taskbar.get(n)&&(m.push(n),!0===e.shortcut&&(n.elementShortcut=this.taskbar.add(n)),n.init=t)},c.addManifestModule=function(e){return import(e).then(function(e){return e.default(c)})},c.addManifestClass=function(e){var e=new e,t=e.manifest,n=this.taskbar.get(e);if(null==n){if(m.push(e),!0===t.shortcut&&(e.elementShortcut=this.taskbar.add(e)),null==e.init)throw new Error("application.init can't be null when added via addManifestClass.");return e}},c.addManifestClassModule=async function(e){e=await import(e);return c.addManifestClass(e.default)},c.getApplication=function(t){return m.find(e=>e.manifest.id==t)},c.open=function(n){if(null==n){var e=m.find(function(e){return 1==e.manifest.startup});e&&c.open(e)}else if("string"==typeof n)n&&((e=m.find(function(e){return e.manifest.id==n}))?c.open(e):c.open());else if("object"==typeof n){let t=n;var i,r,e=t.manifest;f!=t&&(i=f,r=t,f=t,c.taskbar.active(t),intell.ctrl.hide(h[0]),c.applications.forEach(function(e){null!=e.elementRoot&&intell.ctrl.hide(e.elementRoot)}),"NONE"==t.status?(c.overlay.showLoading(t),c.load(t).then(function(){f==t?(c.overlay.hide(),intell.ctrl.show(h[0]),intell.ctrl.show(t.elementRoot)):$(t.elementRoot).hide(),t.onOpen.dispatch()},function(e){f==t&&c.overlay.showError(t)})):"LOADING"==t.status?c.overlay.showLoading(t):"LOADED"==t.status?(c.overlay.hide(),intell.ctrl.show(h[0]),intell.ctrl.show(t.elementRoot)):"FAIL"==t.status&&c.overlay.showError(t),h.attr("data-active-application",e.id),c.onChange.dispatch({oldApplication:i,newApplication:r}),"LOADED"==n.status)&&n.onOpen.dispatch()}},c.load=function(i){if("NONE"!=i.status)throw new Error("Application is already loaded.");i.status="LOADING";var o=i.manifest,e=Promise.resolve();return o.content.html&&(e=e.then(function(){return new Promise(function(t,n){intell.get(o.content.html).load(function(){var e;200!=this.status?n(new Error("Can't load html: "+o.content.html)):(1<(e=$(this.responseText)).length&&(e=$('<div class="Application-Wrapper"></div>').append(e)),i.elementRoot=e[0],intell.ctrl.hide(i.elementRoot),h.append(i.elementRoot),t())}).error(function(){n(new Error("ERR_INTERNET_DISCONNECTED"))}).send()})})),o.content.js&&0<o.content.js.length&&(e=e.then(function(){return new Promise(function(e,n){var i=Array.from(o.content.js);function r(){e()}!function e(){var t=i.shift();if(null==t)return void r();c.loadJavascript(t).then(function(){e()},function(e){n(e)})}()})})),o.content.css&&0<o.content.css.length&&o.content.css.forEach(function(e){c.loadStyle(e)}),e.then(function(){if("function"==typeof i.init)return i.init.call(i,i)}).then(function(){i.status="LOADED"}).catch(function(e){return i.status="FAIL",i.error=e,console.error(e),Promise.reject(e)})},c.loadJavascript=function(e){var n=new URL(e,document.baseURI);return-1!==p.indexOf(n.href)?Promise.resolve():new Promise(function(e,t){return $.getScript({url:n.href,cache:!0}).done(function(){p.push(n.href),e()}).fail(function(){t(new Error("Can't load javascript: "+n.href))})})},c.loadStyle=function(e){var i=new URL(e,document.baseURI);return-1!=g.indexOf(i.href)?Promise.resolve():new Promise(function(e,t){var n=$('<link href="'+i.href+'" rel="stylesheet">');document.head.append(n[0]),g.push(i.href),e()})},c.onChange=new intell.EventRegister(c),c.taskbar=(c.taskbar,o={},n=u.find(".Taskbar"),u=n.find(".Taskbar-Top"),s=n.find(".Taskbar-Middle"),l=s.find(".Shortcut.abstract").removeClass("abstract").remove(),a=s.find(".Group.abstract").removeClass("abstract").remove(),u=u.find(".Collapse-Button"),0==n.length&&(n=$('<div class="Taskbar"></div>').insertBefore(d)),0==s.length&&(s=$('<div class="Taskbar-Middle"></div>').appendTo(n)),0==l.length&&(l=$(`<div class="Shortcut" title="" tabindex="0">
    <i class="Icon"></i>
    <span class="Name"></span>
</div>`)),0==a.length&&(a=$(`<div class="Group" data-group="">
    <header>
        <div class="Name"></div>
    </header>
    <div class="Apps">
                        
    </div>
</div>`)),o.keys={},o.add=function(e){var t,n=e.manifest,i=l.clone(),r=i[0];return i.attr("title",n.title),n.icon?i.find(".Icon").css("background-image",'url("'+n.icon+'")'):n.iconText&&i.find(".Icon").html(n.iconText),i.find(".Name").html(n.name),o.setApplication(r,e),n.group?(0==(t=s.find('.Group[data-group="'+n.group+'"]')).length&&((t=a.clone()).attr("data-group",n.group),t.find(">header>.Name").html(n.group),s.append(t)),t.find(".Apps").append(i)):(t=s.find(".Group:first")).length?i.insertBefore(t):s.append(i),r},o.get=function(t){return s.find(".Shortcut").toArray().find(function(e){return o.getApplication(e)==t})},o.getApplication=function(e){return e._application},o.setApplication=function(e,t){e._application=t},o.active=function(e){e=o.get(e);if(null!=e)return s.find(".Shortcut").not(e).removeClass("ACTIVE"),e.classList.add("ACTIVE"),e},o.enableCollapseStorage=function(e){o.keys.collapsed=e,o.keys.collapsed&&"true"==localStorage.getItem(e)&&n.addClass("COLLAPSED")},u.click(function(){var e=n.toggleClass("COLLAPSED").is(".COLLAPSED");o.keys.collapsed&&localStorage.setItem(o.keys.collapsed,e)}),s.on("click",".Shortcut",function(){var e=o.getApplication(this);e&&c.open(e)}),o),c.overlay=(c.overlay,u={},i=d.find(".Loading-Overlay"),r=d.find(".Error-Overlay"),0==i.length&&(i=$(`<div class="Loading-Overlay" style="display:none">
    <i class="spring"></i>
    <div class="content">
        <i class="spring"></i>
        <div class="Application-Name"></div>
        <div class="Application-Description"></div>
        <i class="spring" style="flex-grow:1.5"></i>
    </div>
                
    <i class="spring"></i>
    <div class="waiting-box">
        <div class="cycle"></div>
        <div class="cycle" style="animation-delay:.15s"></div>
        <div class="cycle" style="animation-delay:.3s"></div>
        <div class="cycle" style="animation-delay:.45s"></div>
        <div class="cycle" style="animation-delay:.6s"></div>
    </div>
</div>`),d.prepend(i)),0==r.length&&(r=$(`<div class="Error-Overlay" style="display:none">
    <i class="spring"></i>
    <div class="Error-Content">
        <i class="spring"></i>
        <div class="Title">Oooops!</div>
        <div class="Application-Name"></div>
        <div class="Message"></div>
        <div class="Stack"></div>
        <i class="spring" style="flex-grow:2"></i>
    </div>
    <i class="spring"></i>
</div>`),d.prepend(r)),u.showLoading=function(e){i.find(".Application-Name").text(e.manifest.name),i.find(".Application-Description").text(e.manifest.description),i.show(),i[0].offsetHeight,i.addClass("ACTIVE"),r.hide(),r.removeClass("ACTIVE")},u.showError=function(e){r.find(".Message").html(e.error.message),r.find(".Stack").html(e.error.stack),r.addClass("ACTIVE"),r.show(),i.hide(),i.removeClass("ACTIVE")},u.hide=function(){i.hide().removeClass("ACTIVE"),r.hide().removeClass("ACTIVE")},u)},v.Application=function e(){if(this instanceof e==0)return new e;this.manifest={id:"",icon:"",iconText:"",name:"",title:"",description:"",content:{js:[],css:[],html:""},shortcut:!0,startup:!1},this.status="NONE",this.onOpen=new intell.EventRegister(this)}}(),function(){var h,n,s,m,e;null!=globalThis.window&&(h=intell.ctrl,m=h.ComboBox,n=$(`<div class="Item">
    <div class="Icon"></div>
    <div class="Name"></div>
</div>`),s=$(`
<div class="Group">
    <header>
        <div class="Name"></div>
    </header>
    <div class="Children"></div>
</div>
`),h.ComboBox=m=function(t){var r,e,n,i,o,s,l,a,c,u,d;return m.getItem(t)?m.getItem(t):this instanceof m==0?new m(t):(r=m.setItem(t,this),n=(e=$(t)).find(">.Select"),s=(o=(i=e.find(">.Dropdown")).find(">.Search")).find("input"),l=i.find(">.Children"),a=e.find(".Item.abstract").removeClass("abstract").remove(),0==n.length&&(n=$('<div class="Select"></div>').prependTo(t)),0==i.length&&(i=$('<div class="Dropdown"></div>').insertAfter(n)),0==l.length&&(l=$('<div class="Children"></div>').appendTo(i)),(c=r.getPrivate({})).element=t,c.elementSelect=n[0],c.elementDropdown=i[0],c.elementSearch=o[0],c.elementSearchInput=s[0],c.elementChildren=l[0],c.elementItemAbstract=a[0],c.childrenVisible=!1,c.items=[],c.groups=[],c.popupLocations=[9,1],c.popupOption={space:-1,container_mode:"auto"},d=u=0,e.mousedown(function(e){e=e.originalEvent;0==$(e.target).closest(".Dropdown").length&&(0==c.childrenVisible?r.showChildrenElement(c.element,!0):r.hideChildren(),e.preventDefault(),t.focus(),u=e.clientX,d=e.clientY)}),l.on("mouseup",".Item",function(e){e=e.originalEvent;Math.abs(u-e.clientX)<=1&&Math.abs(d-e.clientY)<=1||r._mouseUpOrClickItem(this)}),l.on("click",".Item",function(){r._mouseUpOrClickItem(this)}),e.keydown(function(e){var e=e.originalEvent,t=e.keyCode;38==t&&(r._pressUpOrDown(t),e.preventDefault()),40==t&&(r._pressUpOrDown(t),e.preventDefault()),27==t&&r._pressEsc(t)}),e.keypress(function(e){13==e.originalEvent.keyCode&&r._pressEnter()}),s.on("keydown",async function(){await intell.wait(1),r._setSearchKeyword(this.value)}),void l.find(">*").remove().toArray().forEach(function(e){var t,n,i;1==e.matches(".Item")?(n=(t=new h.ComboBoxItem(e)).getPrivate(),1==e.matches(".DISABLED")&&(t.disabled=!0),n.name=n.elementName.innerText.trim(),n.value=e.getAttribute("data-value"),r.add(t),1==e.matches(".ACTIVE")&&(r.selectedItem=t)):1==e.matches(".Group")&&((i=new h.ComboBoxGroup(e)).name=i.elementName.innerText.trim(),c.groups.push(i),l.append(e),Array.from(e.querySelectorAll(".Item")).forEach(function(e){var t=new h.ComboBoxItem(e),n=t.getPrivate(),e=$(e);1==e.is(".DISABLED")&&(t.disabled=!0),n.name=n.elementName.innerText.trim(),n.value=e.attr("data-value"),n.group=i.name,r.add(t),1==e.is(".ACTIVE")&&(r.selectedItem=t)}))}))},h.template.inherit(m,{ctrlKey:Symbol("__ComboBox__")}),e=m.prototype,Object.defineProperties(e,{element:{get:function(){return this.getPrivate().element},set:function(){throw new Error("'ComboBox.element' cannot be assigned to -- it is read only")}},elementSelect:{get:function(){return this.getPrivate().elementSelect},set:function(){throw new Error("'ComboBox.elementSelect' cannot be assigned to -- it is read only")}},elementChildren:{get:function(){return this.getPrivate().elementChildren},set:function(){throw new Error("'ComboBox.elementChildren' cannot be assigned to -- it is read only")}},elementItemAbstract:{get:function(){return this.getPrivate().elementItemAbstract},set:function(){throw new Error("'ComboBox.elementItemAbstract' cannot be assigned to -- it is read only")}},childrenVisible:{get:function(){return this.getPrivate().childrenVisible},set:function(){throw new Error("'ComboBox.childrenVisible' cannot be assigned to -- it is read only")}},items:{get:function(){return this.getPrivate().items.slice()},set:function(){throw new Error("'ComboBox.items' cannot be assigned to -- it is read only")}},popupLocations:{get:function(){return this.getPrivate().popupLocations},set:function(e){this.getPrivate().popupLocations=e}},popupOption:{get:function(){return this.getPrivate().popupOption},set:function(e){this.getPrivate().popupOption=e}},selectedItem:{get:function(){return this.getPrivate().selectedItem},set:function(e){var t=this.getPrivate();if(null!=e&&-1==t.items.indexOf(e))throw new Error("Cannot set selectedItem that do not belong to combobox.");t.selectedItem=e,t.elementSelect.innerHTML="",null!=e&&t.elementSelect.append(e.element.cloneNode(!0))}}}),e.add=function(){if(1==arguments.length&&arguments[0]instanceof h.ComboBoxItem==1)return this.addItem(arguments[0]);if(1==arguments.length&&"object"==typeof arguments[0])return this.addOption(arguments[0]);throw new TypeError("arguments do not match with any overloads.")},e.addOption=function(e){var t=(null==this.elementItemAbstract?n:$(this.elementItemAbstract)).clone()[0],t=new h.ComboBoxItem(t);return e.name&&(t.name=e.name),e.icon&&(t.icon=e.icon),e.value&&(t.value=e.value),e.group&&(t.group=e.group),e.disabled&&(t.disabled=e.disabled),this.addItem(t),t},e.addItem=function(t){var e=this.getPrivate();if(-1!=e.items.indexOf(t))throw new Error("The item is already exist.");var n,i,r=t.getPrivate(),o=(r.parent=this,e.items.push(t),$(e.elementChildren));t.group?(null==(i=e.groups.find(function(e){return e.name==t.group}))&&(n=s.clone().appendTo(e.elementChildren)[0],(i=new h.ComboBoxGroup(n)).name=t.group,e.groups.push(i)),i.add(t)):o.append(r.element)},e.remove=function(e){var t=this.getPrivate(),n=e.getPrivate();if(n.parent!=this)throw new Error("Can't remove item that is not belong to it.");var i=t.items,r=i.indexOf(e),i=(i.splice(r,1),n.parentGroup);null==i?e.element.remove():(i.remove(e),0==i.items.length&&(r=t.groups.indexOf(i),t.groups.splice(r,1),i.element.remove()))},e.clear=function(){var e=this.getPrivate();e.items.forEach(function(e){e.element.remove()}),e.groups.forEach(function(e){e.element.remove()}),e.items.splice(0,e.items.length),e.groups.splice(0,e.groups.length)},e.showChildren=function(e){var t=this.getPrivate();if(0==arguments.length)this.showChildrenElement(t.element,!0);else if(e instanceof HTMLElement==1)this.showChildrenElement.apply(this,arguments);else{if("object"!=typeof e)throw new TypeError("arguments do not match with any overloads.");this.showChildrenCoord.apply(this,arguments)}},e.showChildrenElement=function(t,e){var n=this,i=this.getPrivate();if(t instanceof HTMLElement==0)throw new TypeError("'target' must be HTMLElement.");null==e&&(e=!1),1==i.childrenVisible?(i.session_elementAt&&(i.session_elementAt.classList.remove("ACTIVE"),$(i.session_elementAt).off("focusout.at")),(i.session_elementAt=t).classList.add("ACTIVE"),h.showAt(i.elementDropdown,t,i.popupLocations,i.popupOption)):(i.session_selectedItem=i.selectedItem,i.childrenVisible=!0,(i.session_elementAt=t).classList.add("ACTIVE"),i.items.filter(function(e){return e!=i.selectedItem}).forEach(function(e){e.element.classList.remove("ACTIVE")}),null!=i.selectedItem&&i.selectedItem.element.classList.add("ACTIVE"),h.showAt(i.elementDropdown,t,i.popupLocations,i.popupOption),null!=i.selectedItem&&i.selectedItem.element.scrollIntoView({block:"nearest"}),null!=i.elementSearchInput&&(i.elementSearchInput.value=""),n._setSearchKeyword("")),1==e&&setTimeout(async function(){$(i.elementSearchInput)[0]?.focus(),$(t).on("focusout.at",async function(e){await intell.wait(1),1!=i.element.contains(document.activeElement)&&(n.hideChildren(),$(t).off("focusout.at"))})},1)},e.showChildrenCoord=function(e){var t=this.getPrivate();1==t.childrenVisible?(t.session_elementAt&&(t.session_elementAt.classList.remove("ACTIVE"),$(t.session_elementAt).off("focusout.at")),t.session_elementAt=null,h.showAt(t.elementDropdown,e,t.popupLocations,t.popupOption)):(t.session_selectedItem=t.selectedItem,t.childrenVisible=!0,t.items.filter(function(e){return e!=t.selectedItem}).forEach(function(e){e.element.classList.remove("ACTIVE")}),null!=t.selectedItem&&t.selectedItem.element.classList.add("ACTIVE"),h.showAt(t.elementDropdown,e,t.popupLocations,t.popupOption),null!=t.selectedItem&&t.selectedItem.element.scrollIntoView({block:"nearest"}))},e.hideChildren=function(){var e=this.getPrivate();e.childrenVisible=!1,$(e.elementDropdown).hide(),e.session_elementAt&&(e.session_elementAt.classList.remove("ACTIVE"),e.session_elementAt=null)},e.toggleChildren=function(){1==this.getPrivate().childrenVisible?this.hideChildren():this.showChildren()},e._pressEsc=function(){var e=this.getPrivate();0!=e.childrenVisible&&(e.session_selectedItem=null,this.hideChildren())},e._pressEnter=function(){var e=this.getPrivate();0==e.childrenVisible?this.showChildren():(this._setItem(e.session_selectedItem),this.hideChildren())},e._pressUpOrDown=function(n){var i,e;38!=n&&40!=n||(i=this.getPrivate(),null!=(e=function(){var e=i.session_selectedItem??i.selectedItem,t=Array.from(i.elementChildren.querySelectorAll(".Item")).map(function(e){return h.ComboBoxItem.getItem(e)}).filter(function(e){return 1!=e.disabled}),e=null==e?-1:t.indexOf(e);38==n?--e:40==n&&(e+=1);return t[e]}())&&(0==i.childrenVisible?(this._setItem(e),i.session_selectedItem=null):1==i.childrenVisible&&(i.session_selectedItem=e,$(i.elementChildren).find(".Item").not(e.element).removeClass("ACTIVE"),e.element.classList.add("ACTIVE"),1==i.childrenVisible)&&e.element.scrollIntoView({block:"nearest"})))},e._mouseUpOrClickItem=function(e){e=h.ComboBoxItem.getItem(e);null!=e&&1!=e.disabled&&(e!=this.selectedItem&&this._setItem(e),this.hideChildren())},e._setItem=function(e){var t=this.getPrivate();t.selectedItem!=e&&(this.selectedItem=e,e=new Event("comboboxchange",{bubbles:!0}),t.element.dispatchEvent(e))},e._setSearchKeyword=function(n){var e=this.getPrivate();e.items.forEach(e=>{null==e.group&&(-1!=e.name.toLowerCase().indexOf(n.toLowerCase())?intell.ctrl.show(e.element):intell.ctrl.hide(e.element))}),e.groups.forEach(e=>{let t=0;intell.ctrl.show(e.element),e.items.forEach(e=>{-1!=e.name.toLowerCase().indexOf(n.toLowerCase())?intell.ctrl.show(e.element):(intell.ctrl.hide(e.element),t++)}),t==e.items.length&&intell.ctrl.hide(e.element)})})}(),function(){var e,r;null!=globalThis.window&&(e=intell.ctrl,r=e.ComboBoxItem,e.ComboBoxItem=r=function(e){var t,n,i;return r.getItem(e)?r.getItem(e):this instanceof r==0?new r(e):(i=r.setItem(e,this),t=(n=$(e)).find(".Icon"),n=n.find(".Name"),(i=i.getPrivate({})).element=e,i.elementIcon=t[0],i.elementName=n[0],i.name="",void(i.disabled=!1))},e.template.inherit(r,{ctrlKey:Symbol("__ComboBoxItem__")}),Object.defineProperties(r.prototype,{element:{get:function(){return this.getPrivate().element},set:function(e){throw new Error("'ComboBoxItem.element' cannot be assigned to -- it is read only")}},elementIcon:{get:function(){return this.getPrivate().elementIcon},set:function(e){throw new Error("'ComboBoxItem.elementIcon' cannot be assigned to -- it is read only")}},elementName:{get:function(){return this.getPrivate().elementName},set:function(e){throw new Error("'ComboBoxItem.elementName' cannot be assigned to -- it is read only")}},parent:{get:function(){return this.getPrivate().parent},set:function(e){throw new Error("'ComboBoxItem.parent' cannot be assigned to -- it is read only")}},icon:{get:function(){return this.getPrivate().icon},set:function(e){var t=this.getPrivate(this);t.icon=e,t.elementIcon.innerHTML=e}},name:{get:function(){return this.getPrivate().name},set:function(e){var t=this.getPrivate();t.name=e,t.elementName.innerHTML=e}},value:{get:function(){return this.getPrivate().value},set:function(e){this.getPrivate().value=e}},group:{get:function(){return this.getPrivate().group},set:function(e){var t=this.getPrivate();t.group!=e&&(t.group=e)}},disabled:{get:function(){return this.getPrivate().disabled},set:function(e){var t=this.getPrivate();t.disabled=e,t.element.classList.toggle("DISABLED",t.disabled)}}}))}(),function(){var r,e;null!=globalThis.window&&(e=intell.ctrl,r=e.ComboBoxGroup,e.ComboBoxGroup=r=function(e){var t,n,i;return r.getItem(e)?r.getItem(e):this instanceof r==0?new r(e):(i=r.setItem(e,this),t=(n=$(e)).find(".Name"),n=n.find(".Children"),(i=i.getPrivate({})).element=e,i.elementName=t[0],i.elementChildren=n[0],void(i.items=[]))},e.template.inherit(r,{ctrlKey:Symbol("__ComboBoxGroup__")}),e=r.prototype,Object.defineProperties(e,{element:{get:function(){return this.getPrivate().element},set:function(){throw new Error("'ComboBoxGroup.element' cannot be assigned to -- it is read only")}},elementName:{get:function(){return this.getPrivate().elementName},set:function(){throw new Error("'ComboBoxGroup.elementName' cannot be assigned to -- it is read only")}},elementChildren:{get:function(){return this.getPrivate().elementChildren},set:function(){throw new Error("'ComboBoxGroup.elementChildren' cannot be assigned to -- it is read only")}},items:{get:function(){return this.getPrivate().items},set:function(){throw new Error("'ComboBoxGroup.items' cannot be assigned to -- it is read only")}},name:{get:function(){return this.getPrivate().name},set:function(e){var t=this.getPrivate();t.name=e,t.elementName.innerHTML=e}}}),e.add=function(e){var t=this.getPrivate(),n=e.getPrivate();t.items.push(e),n.parentGroup=this,t.elementChildren.append(e.element)},e.remove=function(e){var t=this.items.indexOf(e);-1!=t&&(this.items.splice(t,1),e.element.remove())})}(),function(){var a,c,u,e;null!=globalThis.window&&(e=intell.ctrl,u=e.Numeric,a=.1.toLocaleString().substr(1,1),c=1e3.toLocaleString().substr(1,1),e.Numeric=u=function(e){var n,t,i,r,o,s,l;return u.getItem(e)?u.getItem(e):this instanceof u==0?new u(e):(n=u.setItem(e,this),i=(t=$(e)).find(".Action-Up"),r=t.find(".Action-Down"),o=t.find("input").addBack("input"),(s=n.getPrivate({})).element=e,s.elementInput=o[0],s.elementUp=i[0],s.elementDown=r[0],s.min=null,s.max=null,s.minimumFractionDigits=0,s.maximumFractionDigits=2,s.decimalSeparator=a,s.thousandSeparator=c,s.nullable=!1,s.value=null,s.increment=1,n.value=u.parseFloat(s.elementInput.value,s),l=!1,o.focus(function(){l=!1}),o.keydown(function(e){var e=e.originalEvent,t=e.keyCode;27==t?(l=!0,s.elementInput.value=u.formatNumber(s.value,s),s.elementInput.blur()):38==t?(n.increaseSessionBy(s.increment),e.preventDefault()):40==t&&(n.increaseSessionBy(-s.increment),e.preventDefault())}),o.keypress(function(e){if(-1=="1234567890.,-".indexOf(e.originalEvent.key))return!1}),o.focusout(function(e){1!=l&&n._focusout()}),i.click(function(){n.increaseSessionBy(n.increment)}),r.click(function(){n.increaseSessionBy(-n.increment)}),i.add(r).mousedown(function(e){s.elementInput.focus(),e.originalEvent.preventDefault()}),void t.on("mousewheel",function(e){s.elementInput==document.activeElement&&(0<(e=e.originalEvent).deltaY?n.increaseSessionBy(-n.increment):n.increaseSessionBy(n.increment),e.preventDefault())}))},e.template.inherit(u,{ctrlKey:Symbol("__Numeric__")}),e=u.prototype,Object.defineProperties(e,{element:{get:function(){return this.getPrivate().element},set:function(){throw new Error("'Numeric.element' cannot be assigned to -- it is read only")}},elementUp:{get:function(){return this.getPrivate().elementUp},set:function(){throw new Error("'Numeric.elementUp' cannot be assigned to -- it is read only")}},elementDown:{get:function(){return this.getPrivate().elementDown},set:function(){throw new Error("'Numeric.elementDown' cannot be assigned to -- it is read only")}},elementInput:{get:function(){return this.getPrivate().elementInput},set:function(){throw new Error("'Numeric.elementInput' cannot be assigned to -- it is read only")}},min:{get:function(){return this.getPrivate().min},set:function(e){this.getPrivate().min=e}},max:{get:function(){return this.getPrivate().max},set:function(e){this.getPrivate().max=e}},minimumFractionDigits:{get:function(){return this.getPrivate().minimumFractionDigits},set:function(e){this.getPrivate().minimumFractionDigits=e}},maximumFractionDigits:{get:function(){return this.getPrivate().maximumFractionDigits},set:function(e){this.getPrivate().maximumFractionDigits=e}},decimalSeparator:{get:function(){return this.getPrivate().decimalSeparator},set:function(e){var t=this.getPrivate();t.decimalSeparator=e,t.elementInput.value=u.formatNumber(t.value,t)}},thousandSeparator:{get:function(){return this.getPrivate().thousandSeparator},set:function(e){var t=this.getPrivate();t.thousandSeparator=e,t.elementInput.value=u.formatNumber(t.value,t)}},nullable:{get:function(){return this.getPrivate().nullable},set:function(e){this.getPrivate().nullable=e}},value:{get:function(){return this.getPrivate().value},set:function(e){var t=this.getPrivate(),n=t.value;if((e=1==isNaN(e)?null:e)!=n&&!(null==e&&0==t.nullable||null!=e&&"number"!=typeof e))return null!=(e=null!=(e=null!=e&&null!=t.min&&e<t.min?t.min:e)&&null!=t.max&&e>t.max?t.max:e)&&(n=Math.pow(10,t.maximumFractionDigits),e=Math.round(e*n)/n),t.value=e,t.elementInput.value=u.formatNumber(e,t),!0}},increment:{get:function(){return this.getPrivate().increment},set:function(e){this.getPrivate().increment=e}}}),e.increaseSessionBy=function(e){var t=this.getPrivate(),n=u.parseFloat(t.elementInput.value,t);null!=n&&1!=isNaN(n)||(n=0),n+=e,null!=t.min&&n<t.min&&(n=t.min),null!=t.max&&n>t.max&&(n=t.max),t.elementInput.value=u.formatNumber(n,t)},e._focusout=function(){var e,t=this.getPrivate(),n=u.parseFloat(t.elementInput.value,t);t.value==n||(e=t.value,this.value=n,this.value==e)?t.elementInput.value=u.formatNumber(t.value,t):((n=new Event("numericchange",{cancelable:!1,bubbles:!0})).numeric=this,t.elementInput.dispatchEvent(n))},u.parseFloat=function(e,t){var n;return"object"==typeof e&&(e=e.toString()),null!=t.thousandSeparator&&(n=t.thousandSeparator.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),e=e.replace(new RegExp(n,"g"),"")),null!=t.decimalSeparator&&(e=e.replace(t.decimalSeparator,".")),parseFloat(e)},u.formatNumber=function(e,t){if(null==e||isNaN(e))return"";if("number"!=typeof e)throw new TypeError("value is not number.");e=Intl.NumberFormat("en-US",{minimumFractionDigits:t.minimumFractionDigits,maximumFractionDigits:t.maximumFractionDigits}).format(e);return e=(e=e.replace(/,/g,"a").replace(".","b")).replace(/a/g,t.thousandSeparator??"").replace("b",t.decimalSeparator??".")})}(),function(){var s,r,e;null!=globalThis.window&&(e=intell.ctrl,s=e.TargetPopup,r="POPUP-ATTACHED",e.TargetPopup=s=function(e){if(s.getItem(e))return s.getItem(e);if(this instanceof s==0)return new s(e);var t=s.setItem(e,this),n=$(e).find(">.Arrow"),i=t.getPrivate({});i.element=e,i.elementArrow=n[0],i.popupLocations=[9,1],i.popupOption={container_mode:"auto",space:1},i.popupDelayHideTime=500;let r,o;document.addEventListener("mousedown",function(e){r=e.target}),document.addEventListener("mouseup",function(e){o=e.target,0==i.isVisible||1==i.isVisible&&1==i.isFadingOut||1==i.element.contains(r)||null!=i.targetElement&&1==i.targetElement.contains(e.target)||t.hide()})},e.template.inherit(s,{ctrlKey:Symbol("TargetPopup")}),e.template.defineProperties(e=s.prototype,{element:{get:function(){return this.getPrivate().element},set:function(){throw new Error("'TargetPopup.element' cannot be assigned to -- it is read only")}},elementArrow:{get:function(){return this.getPrivate().elementArrow},set:function(){throw new Error("'TargetPopup.elementArrow' cannot be assigned to -- it is read only")}},popupLocations:{get:function(){return this.getPrivate().popupLocations},set:function(e){this.getPrivate().popupLocations=e}},popupOption:{get:function(){return this.getPrivate().popupOption},set:function(e){this.getPrivate().popupOption=e}},popupDelayHideTime:{get:function(){return this.getPrivate().popupDelayHideTime},set:function(e){this.getPrivate().popupDelayHideTime=e}}}),e.showAt=function(){if(arguments[0]instanceof HTMLElement==1)this.showAtElement.apply(this,arguments);else{if("object"!=typeof arguments[0])throw new TypeError("arguments do not match with any overloads.");this.showAtCoord.apply(this,arguments)}},e.showAtElement=function(e){var t=this.getPrivate(),n=t.isVisible,i=t.isFadingOut,n=(1==n&&1==i&&intell.ctrl.stopHide(t.element),null!=t.targetElement&&t.targetElement.classList.remove(r),t.targetElement=e,t.targetCoordinates=null,t.isVisible=!0,t.isFadingOut=!1,intell.ctrl.showAtElement(t.element,e,t.popupLocations,t.popupOption));t.element.classList.add("ACTIVE"),t.targetElement.classList.add(r),null!=t.elementArrow&&this.setArrowPointToElement(e,n.location)},e.showAtCoord=function(e){var t=this.getPrivate(),n=t.isVisible,i=t.isFadingOut,n=(1==n&&1==i&&intell.ctrl.stopHide(t.element),null!=t.targetElement&&t.targetElement.classList.remove(r),t.targetElement=null,t.targetCoordinates=e,t.isVisible=!0,t.isFadingOut=!1,intell.ctrl.showAtCoord(t.element,e,t.popupLocations,t.popupOption));t.element.classList.add("ACTIVE"),null!=t.elementArrow&&this.setArrowPointToCoordinates(e,n.location)},e.hide=function(){var e=this.getPrivate(),t=e.isVisible,n=e.isFadingOut;0==t||1==t&&1==n||1==t&&0==n&&(t=e.targetElement,e.isVisible=!0,e.isFadingOut=!0,e.targetElement=null,(e.targetCoordinates=null)!=t&&t.classList.remove(r),e.element.classList.remove("ACTIVE"),intell.ctrl.startHide(e.element,e.popupDelayHideTime,"OUT").then(function(){e.isVisible=!1,e.isFadingOut=!1}),(n=new Event("targetpopuphide",{cancelable:!1,bubbles:!0})).targetpopup=this,e.element.dispatchEvent(n))},e.setArrowPointToElement=function(e,t){var e=$(e),n=e.offset();n.left+=e.outerWidth()/2,n.top+=e.outerHeight()/2,this.setArrowPointToCoordinates(n,t)},e.setArrowPointToCoordinates=function(e,t){var n=this.getPrivate(),n=$(n.elementArrow),i=e.left-n.outerWidth()/2,e=e.top-n.outerHeight()/2;n.removeClass("LEFT UP RIGHT DOWN").css({left:"",top:""}),t<=3?n.offset({left:i}).addClass("DOWN"):t<=6?n.offset({top:e}).addClass("LEFT"):t<=9?n.offset({left:i}).addClass("UP"):n.offset({top:e}).addClass("RIGHT")},s.showAt=function(){return(arguments[1]instanceof HTMLElement==1?s.showAtElement:s.showAtCoord).apply(s,arguments)},s.showAtElement=function(e,t,n,i){e=new s(e);return null!=n&&(e.popupLocations=n),null!=i&&(e.popupOption=i),e.showAt(t),e},s.showAtCoord=function(e,t,n,i){e=new s(e);return null!=n&&(e.popupLocations=n),null!=i&&(e.popupOption=i),e.showAt(t),e})}(),function(){if(null!=globalThis.window){var a,n=intell.ctrl;n.Time;const i="ACTIVE";n.Time=a=function(e){var t,n,i,r,o,s,l;return a.getItem(e)?a.getItem(e):this instanceof a==0?new a(e):(t=a.setItem(e,this),i=(n=$(e)).find(".Hours"),r=n.find(".Minutes"),o=n.find(".Seconds"),s=n.find(".Milliseconds"),0==i.length&&(i=$('<div class="Unit Hours"><div class="Value"></div></div>').appendTo(e)),0==r.length&&(r=$('<div class="Unit Minutes">:<div class="Value"></div></div>').appendTo(e)),0==o.length&&(o=$('<div class="Unit Seconds">:<div class="Value"></div></div>').appendTo(e)),0==s.length&&(s=$('<div class="Unit Milliseconds">.<div class="Value"></div></div>').appendTo(e)),-1==e.tabIndex&&(e.tabIndex=0),(l=t.getPrivate({})).element=e,l.elementHours=i[0],l.elementMinutes=r[0],l.elementSeconds=o[0],l.elementMilliseconds=s[0],l.value=null,l.nullable=!0,l.max=86399999,l.secondsEnabled=!0,t.millisecondsEnabled=!1,this.updateElementLabels(),n.focus(function(){t._focus()}),n.mousedown(function(e){t._mousedown(e.originalEvent)}),n.keydown(function(e){t._keydown(e.originalEvent)}),n.focusout(function(){t._focusout()}),void e.addEventListener("wheel",function(e){t._wheel(e)}))},n.template.inherit(a,{ctrlKey:Symbol("Time")});var e=a.prototype;n.template.defineProperties(e,{element:{get:function(){return this.getPrivate().element},set:function(){throw new Error("'Time.element' cannot be assigned to -- it is read only")}},elementHours:{get:function(){return this.getPrivate().elementHours},set:function(){throw new Error("'Time.elementHours' cannot be assigned to -- it is read only")}},elementMinutes:{get:function(){return this.getPrivate().elementHours},set:function(){throw new Error("'Time.elementHours' cannot be assigned to -- it is read only")}},elementSeconds:{get:function(){return this.getPrivate().elementHours},set:function(){throw new Error("'Time.elementHours' cannot be assigned to -- it is read only")}},elementMilliseconds:{get:function(){return this.getPrivate().elementMilliseconds},set:function(){throw new Error("'Time.elementMilliseconds' cannot be assigned to -- it is read only")}},value:{get:function(){return this.getPrivate().value},set:function(e){this.setValue(e)}},nullable:{get:function(){return this.getPrivate().nullable},set:function(e){var t=this.getPrivate();t.nullable!=e&&0==(t.nullable=e)&&null==t.value&&(this.value=0)}},max:{get:function(){return this.getPrivate().max},set:function(e){var t=this.getPrivate();t.max!=e&&(t.max=e,this.updateElementLabels())}},secondsEnabled:{get:function(){return this.getPrivate().secondsEnabled},set:function(e){var t=this.getPrivate();0==(t.secondsEnabled=e)?(this.millisecondsEnabled=!1,n.hide(t.elementSeconds)):n.show(t.elementSeconds)}},millisecondsEnabled:{get:function(){return this.getPrivate().millisecondsEnabled},set:function(e){var t=this.getPrivate();0==(t.millisecondsEnabled=e)?n.hide(t.elementMilliseconds):n.show(t.elementMilliseconds)}}}),e.setValue=function(e,t){var n=this.getPrivate(),i=n.value,e=parseInt(e);null==t&&(t=!1),(e=1==isNaN(e)?null:e)==i||null==e&&0==n.nullable||null!=e&&"number"!=typeof e||(null!=(e=null!=(e=null!=e&&e<0?0:e)&&e>n.max?n.max:e)?(i=a.getHHMMSS(e),n.hours=i.hours,n.minutes=i.minutes,n.seconds=i.seconds,n.milliseconds=i.milliseconds):0==t&&(n.hours=null,n.minutes=null,n.seconds=null,n.milliseconds=null),n.value=e,this.updateElementLabels())},e.getUnitElement=function(e){var t=this.getPrivate();return"hours"==e?t.elementHours:"minutes"==e?t.elementMinutes:"seconds"==e?t.elementSeconds:"milliseconds"==e?t.elementMilliseconds:void 0},e.getEditName=function(e){var t=this.getPrivate();return t.elementHours.contains(e)?"hours":t.elementMinutes.contains(e)?"minutes":t.elementSeconds.contains(e)?"seconds":t.elementMilliseconds.contains(e)?"milliseconds":void 0},e.setEditName=function(e){var t=this.getPrivate();if("hours"!==e&&"minutes"!=e&&"seconds"!=e&&"milliseconds"!=e)throw new Error("'name' must be 'hours', 'minutes', 'seconds' or 'milliseconds'");t.currentUnitName!=e&&(t.currentUnitName=e,t.currentNumbers=0,$([t.elementHours,t.elementMinutes,t.elementSeconds,t.elementMilliseconds]).removeClass(i),this.getUnitElement(e).classList.add(i))},e.setEditValue=function(e,t){var n=this.getPrivate();if(t<0&&(t=0),null!=(t=0==n.nullable&&null==t?0:t))switch(e){case"hours":var i=a.getHHMMSS(n.max);t>i.hours&&(t=i.hours);break;case"minutes":case"seconds":59<t&&(t=59);break;case"milliseconds":999<t&&(t=999)}n[e]=t,this.updateElementLabel(e,t)},e.updateElementLabel=function(e,t){var n=this.getPrivate(),i=this.getUnitElement(e),r=0,r="hours"==e?a.GetLengthOfNumber(a.getHHMMSS(n.max).hours):"milliseconds"==e?3:2,n=null==t?"-".repeat(r):t.toString().padStart(r,"0");i.querySelector(":scope>.Value").textContent=n},e.updateElementLabels=function(){var e=this.getPrivate(),t=e.value;null==t?(this.updateElementLabel("hours",e.hours),this.updateElementLabel("minutes",e.minutes),this.updateElementLabel("seconds",e.seconds),this.updateElementLabel("milliseconds",e.milliseconds)):(e=a.getHHMMSS(t),this.updateElementLabel("hours",e.hours),this.updateElementLabel("minutes",e.minutes),this.updateElementLabel("seconds",e.seconds),this.updateElementLabel("milliseconds",e.milliseconds))},e._focus=function(){var e=this.getPrivate();null==e.currentUnitName&&this.setEditName("hours"),e.save_hours=e.hours,e.save_minutes=e.minutes,e.save_seconds=e.seconds,e.save_milliseconds=e.milliseconds},e._mousedown=function(e){e=this.getEditName(e.target);e&&this.setEditName(e)},e._wheel=function(e){var t,n=this.getPrivate(),i=n.currentUnitName;null!=i&&(n=n[i]??0,t=e.deltaY<0?1:-1,this.setEditValue(i,n+t),e.preventDefault())},e._keydown=function(e){var t,n=this.getPrivate(),i=e.keyCode;if(37==i&&this._keydownLeft(),39==i&&this._keydownRight(),8!=i&&46!=i||this._keydownDel(),27==i&&this._keydownEsc(),38==i||40==i){if(null==(t=n.currentUnitName))return;var r,o=(r=n[t]??0)+(38==i?1:-1);this.setEditValue(t,o),e.preventDefault()}48<=e.keyCode&&e.keyCode<=57&&null!=(t=n.currentUnitName)&&(i=e.keyCode-48,null==(r=n[t])&&(r=0),n.currentNumbers++,o=0,o=1==n.currentNumbers?i:10*r+i,"seconds"==t&&3<=n.currentNumbers?59<(o%=100)&&(o=i,n.currentNumbers=1):"milliseconds"==t&&(o%=1e3),this.setEditValue(t,o),e=!1,"hours"==t?((r=a.getHHMMSS(n.max)).hours<=23&&2<n.hours||n.currentNumbers>=a.GetLengthOfNumber(r.hours))&&(e=!0):"minutes"==t?(5<n.minutes||2<=n.currentNumbers)&&(e=!0):"seconds"==t&&(5<n.seconds||2<=n.currentNumbers)&&(e=!0),1==e)&&this._keydownRight()},e._keydownLeft=function(){var e=this.getPrivate();"minutes"==e.currentUnitName?this.setEditName("hours"):"seconds"==e.currentUnitName&&this.setEditName("minutes")},e._keydownRight=function(){var e=this.getPrivate(),t=e.currentUnitName;"hours"==t?this.setEditName("minutes"):"minutes"==t&&1==e.secondsEnabled?this.setEditName("seconds"):"seconds"==t&&1==e.millisecondsEnabled&&this.setEditName("milliseconds")},e._keydownDel=function(){var e=this.getPrivate().currentUnitName;null!=e&&this.setEditValue(e,null)},e._keydownEsc=function(){var e=this.getPrivate();e.hours=e.save_hours,e.minutes=e.save_minutes,e.seconds=e.save_seconds,e.milliseconds=e.save_milliseconds,e.element.blur()},e._focusout=function(){var e,t=this.getPrivate(),n=(t.currentUnitName=null,$([t.elementHours,t.elementMinutes,t.elementSeconds,t.elementMilliseconds]).removeClass(i),0),n=null;e=0,n=null==t.hours||(e+=36e5*t.hours,null==t.minutes)||(e+=6e4*t.minutes,1==t.secondsEnabled&&null==t.seconds)||(e+=1e3*(null==t.seconds?0:t.seconds),1==t.millisecondsEnabled&&null==t.milliseconds)?null:e+(null==t.milliseconds?0:t.milliseconds),t.value==n||(e=t.value,this.setValue(n,!0),this.value==e)?this.updateElementLabels():((n=new Event("timechange",{cancelable:!1,bubbles:!0})).time=this,t.element.dispatchEvent(n))},a.getHHMMSS=function(e){var t=Math.floor(e/36e5),n=(e-=36e5*t,Math.floor(e/6e4)),i=(e-=6e4*n,Math.floor(e/1e3));return{hours:t,minutes:n,seconds:i,milliseconds:(e-=1e3*i)%1e3}},a.GetLengthOfNumber=function(e){return 0==(e=Math.abs(e))?1:Math.ceil(Math.log10(e+1))}}}(),function(){if(null!=globalThis.window){var c=intell.ctrl;c.Menu;const d="ROOT",l="CHILDREN-VISIBLE",r="CHILDREN-OUT";var u,e=(c.Menu=u=function(n){var i,e,t,r,o,s,l,a;return null==n&&(n=$(`<div class="X-Menu">
    <div class="Label">
        <div class="Icon"></div>
        <div class="Name"></div>
    </div>
</div>`)[0]),u.getItem(n)?u.getItem(n):this instanceof u==0?new u(n):(i=u.setItem(n,this),t=(e=(l=$(n).addClass(d)).find(">.Label")).find(".Icon"),r=e.find(".Name"),s=(o=l.find(">.Children")).find(">.Intersect"),l=l.find(">.X-Menu.Abstract").removeClass("Abstract").remove(),0==e.length&&(e=$('<div class="Label"></div>').prependTo(n)),0==t.length&&(t=$('<div class="Icon"></div>').prependTo(e)),0==r.length&&(r=$('<div class="Name"></div>').appendTo(e)),(a=i.getPrivate({})).element=n,a.elementLabel=e[0],a.elementIcon=t[0],a.elementName=r[0],a.elementChildren=o[0],a.elementIntersect=s[0],a.elementMenuAbstract=l[0],a.parent=null,a.children=[],a.rootLocations=[9,1],a.rootOption={container_mode:"auto",space:-1},a.rootFadeOutTime=0,a.childLocations=[4,12],a.childOption={container_mode:"auto",margin:0},a.childFadeOutTime=500,a.active=!1,a.childrenVisible=!1,a.childrenFadingOut=!1,o.find(">.X-Menu").toArray().forEach(e=>i.add(new u(e))),n.addEventListener("focus",function(){i.active=!0}),n.addEventListener("mousedown",function(e){c.findClosestElement(e.target,e=>null!=u.getItem(e))==n&&0!=i.children.length&&(i.active=!0,i.childrenVisible=!0,null==i.parent&&n.focus(),e.preventDefault())},!0),n.addEventListener("mouseup",function(e){c.findClosestElement(e.target,e=>null!=u.getItem(e))==n&&0==i.children.length&&i._dispatchEvent_menuclick(i)}),n.addEventListener("mouseenter",function(e){null!=i.parent&&(i.active=!0,i.childrenVisible=!0)}),n.addEventListener("mouseout",function(e){var t=e.target;1!=this.contains(e.relatedTarget)&&(e=c.findClosestElement(t,e=>null!=u.getItem(e)),n==e)&&0==t.matches(".Children")&&null!=i.parent&&(i.active=!1,i.childrenVisible=!1)}),n.addEventListener("keydown",e=>i._keydown_arrow_or_enter(e)),n.addEventListener("focusout",function(e){var t=i.getRoot();console.log("Menu.foucusout",i,e,document.activeElement),i===t&&i.element!=document.activeElement&&(i.active=!1,i.childrenVisible=!1)}),void window.addEventListener("click",function(e){}))}).prototype;c.template.inherit(u,{ctrlKey:Symbol("Menu")}),c.template.defineProperties(e,{element:{get:function(){return this.getPrivate().element},set:function(){throw new Error("'Menu.element' cannot be assigned to -- it is read only")}},elementChildren:{get:function(){return this.getPrivate().elementChildren},set:function(){throw new Error("'Menu.elementChildren' cannot be assigned to -- it is read only")}},elementLabel:{get:function(){return this.getPrivate().elementLabel},set:function(){throw new Error("'Menu.elementLabel' cannot be assigned to -- it is read only")}},elementIcon:{get:function(){return this.getPrivate().elementIcon},set:function(){throw new Error("'Menu.elementIcon' cannot be assigned to -- it is read only")}},elementName:{get:function(){return this.getPrivate().elementName},set:function(){throw new Error("'Menu.elementName' cannot be assigned to -- it is read only")}},elementIntersect:{get:function(){return this.getPrivate().elementIntersect},set:function(){throw new Error("'Menu.elementIntersect' cannot be assigned to -- it is read only")}},elementMenuAbstract:{get:function(){return this.getPrivate().elementMenuAbstract},set:function(){throw new Error("'Menu.elementItemAbstract' cannot be assigned to -- it is read only")}},icon:{get:function(){return this.getPrivate().icon},set:function(e){var t=this.getPrivate();t.elementIcon.textContent=t.icon=e}},name:{get:function(){return this.getPrivate().elementName?.textContent},set:function(e){var t=this.getPrivate();t.elementName.textContent=t.name=e}},parent:{get:function(){return this.getPrivate().parent},set:function(){throw new Error("'Menu.menuParent' cannot be assigned to -- it is read only")}},children:{get:function(){return this.getPrivate().children.slice()},set:function(){throw new Error("'Menu.children' cannot be assigned to -- it is read only")}},rootLocations:{get:function(){return this.getPrivate().rootLocations},set:function(e){this.getPrivate().rootLocations=e}},rootOption:{get:function(){return this.getPrivate().rootOption},set:function(e){this.getPrivate().rootOption=e}},rootFadeOutTime:{get:function(){return this.getPrivate().rootFadeOutTime},set:function(e){this.getPrivate().rootFadeOutTime=e}},childLocations:{get:function(){return this.getPrivate().childLocations},set:function(e){this.getPrivate().childLocations=e}},childOption:{get:function(){return this.getPrivate().childOption},set:function(e){this.getPrivate().childOption=e}},childFadeOutTime:{get:function(){return this.getPrivate().childFadeOutTime},set:function(e){this.getPrivate().childFadeOutTime=e}},active:{get:function(){return this.getPrivate().active},set:function(e){var t,n=this.getPrivate();n.active!=e&&(n.element.classList.toggle("ACTIVE",e),1==(n.active=e)?null!=(e=n.parent)&&(t=e.children,t.forEach(e=>{e!=this&&1==e.active&&(e.active=!1,1==e.childrenVisible)&&(e.childrenVisible=!1)}),e.active=!0,e.childrenVisible=!0):(n.element.classList.remove("FIRST"),n.children.forEach(function(e){e.active=!1})))}},childrenVisible:{get:function(){return this.getPrivate().childrenVisible},set:function(e){var n=this.getPrivate(),t=n.parent;n.childrenVisible!=e&&(1==e?(null!=t&&t.children.forEach(e=>{var t;e==this||(t=e.getPrivate(),0==n.children.length)||1!=t.childrenVisible&&1!=t.childrenFadingOut||e.hideChildrenImmediately()}),this.showChildrenAt(n.element)):this.hideChildren())}}}),e.getRoot=function(){for(var e=this;;){var t=e.parent;if(null==t)return e;e=t}},e.getHighestActive=function(){var e=this.getPrivate();return 0==e.active?null:null==(e=e.children.find(e=>1==e.active))?this:e.getHighestActive()},e.add=function(){if(1==arguments.length&&"string"==typeof arguments[0])return this.addName.apply(this,arguments);if(1==arguments.length&&arguments[0]instanceof u==1)return this.addMenu.apply(this,arguments);if(1==arguments.length&&"object"==typeof arguments[0])return this.addOption.apply(this,arguments);throw new Error("arguments do not match with any overloads.")},e.addName=function(e){return this.addOption({name:e})},e.addMenu=function(e){var t=this.getPrivate(),n=e.getPrivate();if(null!=e.parent)throw new Error("Menu is already added to another menu.");1!=t.children.indexOf(e)&&(t.children.push(e),n.parent=this,null==t.elementChildren&&(t.elementChildren=$('<div class="Children"></div>').appendTo(t.element)[0]),null==t.elementIntersect&&(t.elementIntersect=$('<div class="Intersect"></div>').appendTo(t.elementChildren)[0]),n.element.parentElement!=t.elementChildren&&t.elementChildren.appendChild(n.element),n.element.classList.remove(d),this.checkHasChildren())},e.addOption=function(e){var t=this.getRoot(),t=null!=t.elementMenuAbstract?t.elementMenuAbstract.cloneNode(!0):null,t=new u(t);return null!=e.name&&(t.name=e.name),null!=e.icon&&(t.icon=e.icon),this.addMenu(t),t},e.addSeparator=function(){var e=$('<div class="X-Separator"></div>');return e.appendTo(this.elementChildren),e[0]},e.remove=function(){var e=this.getPrivate().parent;null!=e&&e.removeChildren(this)},e.removeChildren=function(e){var t=this.getPrivate(),n=e.getPrivate(),i=t.children,e=i.indexOf(e);return-1!=e&&(i.splice(e,1),1==t.elementChildren.contains(n.element)&&n.element.remove(),this.checkHasChildren(),n.parent=null,n.element.classList.add(d),!0)},e.clear=function(){this.getPrivate().children.slice().forEach(e=>e.remove())},e.showChildrenAt=function(){if(arguments[0]instanceof HTMLElement==1)this.showChildrenAtElement.apply(this,arguments);else{if("object"!=typeof arguments[0])throw new TypeError("arguments do not match with any overloads.");this.showChildrenAtCoord.apply(this,arguments)}},e.showChildrenAtRect=function(e,t,n){var i,r,o,s=this.getPrivate();0!=s.children.length&&(i=this.getRoot(),null==t&&(t=this==i?i.rootLocations:i.childLocations),null==n&&(n=this==i?i.rootOption:i.childLocations),i=s.element,r=s.elementChildren,o=s.elementIntersect,1!=s.childrenVisible)&&(0==s.childrenFadingOut?(e=c.showAt(r,e,t,n),i.classList.add(l),t=c.getBoundingClientRectOffset(i),n=e.rect,null==(e=c.rectIntersect(t,n))?c.hide(o):($(o).offset({left:e.left,top:e.top}),o.style.width=e.width+"px",o.style.height=e.height+"px",c.show(o))):(s.childrenFadingOut=!1,i.classList.add(l),c.stopHide(r)),s.childrenVisible=!0)},e.showChildrenAtElement=function(e,t,n){e=c.getBoundingClientRectOffset(e);return this.showChildrenAtRect(e,t,n)},e.showChildrenAtCoord=function(e,t,n){e=new DOMRect(e.x??e.left,e.y??e.top,0,0);return this.showChildrenAtRect(e,t,n)},e.hideChildren=function(){var e,t,n,i=this.getPrivate();0!=i.childrenVisible&&1!=i.childrenFadingOut&&(e=i.element,t=i.elementChildren,n=this.getRoot(),0==(n=this==n?n.rootFadeOutTime:n.childFadeOutTime)?this.hideChildrenImmediately():(i.childrenVisible=!1,i.childrenFadingOut=!0,e.classList.remove(l),e.classList.add(r),c.startHide(t,n,null).then(function(){e.classList.remove(r),i.childrenFadingOut=!1}),i.children.forEach(e=>{1==e.getPrivate().active&&(e.active=!1),e.hideChildren()})))},e.hideChildrenImmediately=function(){var e=this.getPrivate(),t=e.element,n=e.elementChildren;0==e.childrenVisible&&0==e.childrenFadingOut||(e.childrenVisible=!1,e.childrenFadingOut=!1,c.stopHide(n),c.hide(n),t.classList.remove(l,r),n.classList.remove("FIRST"),e.children.forEach(function(e){var t=e.getPrivate();1==t.active&&(e.active=!1),1!=t.childrenVisible&&1!=t.childrenFadingOut||e.hideChildrenImmediately()}))},e.checkHasChildren=function(){var e=this.getPrivate(),t=e.children;e.element.classList.toggle("HAS-CHILDREN",0!=t.length),0==t.length&&1==e.childrenVisible&&this.hideChildrenImmediately()},e._keydown_arrow_or_enter=function(e){var t,n,i=e.key,r=this.getHighestActive();null!=r&&(null==(t=r.parent)?"ArrowLeft"==i||"ArrowRight"==i||"ArrowUp"!=i&&"ArrowDown"!=i||(r.childrenVisible,0<=r.children.length&&(r.children[0].active=!0,e.preventDefault())):"ArrowLeft"==i?t!=r.getRoot()&&(t.hideChildrenImmediately(),e.preventDefault()):"ArrowRight"==i?0<r.children.length&&(r.childrenVisible=!0,r.children[0].active=!0,e.preventDefault()):"ArrowUp"!=i&&"ArrowDown"!=i||(n=t.children.indexOf(r),"ArrowDown"==i?n++:n--,(n=n<0?t.children.length-1:n)>=t.children.length&&(n=0),t.children[n].active=!0,e.preventDefault()),"Enter"===i?0==r.children.length?this._dispatchEvent_menuclick(r):0==r.childrenVisible&&(r.childrenVisible=!0,r.children[0].active=!0,e.preventDefault()):"Escape"===i&&(1==r.childrenVisible?(r.hideChildrenImmediately(),e.preventDefault()):null!=t?t.hideChildrenImmediately():r.element.blur()))},e._dispatchEvent_menuclick=function(e){var t=this.getRoot(),n=new Event("menuclick",{bubbles:!0,cancelable:!1});(n.menu=e).element.dispatchEvent(n),t.active=!1,t.childrenVisible=!1}}}(),function(){var o,s,e;null!=globalThis.window&&(o=intell.ctrl,s=o.MenuBar,e=(o.MenuBar=s=function(i){var t,e,n,r;return s.getItem(i)?s.getItem(i):this instanceof s==0?new s(i):(t=s.setItem(i,this),n=(e=$(i)).find(">.X-Menu.Abstract").removeClass("Abstract").remove(),(r=t.getPrivate({})).element=i,r.elementMenuAbstract=n[0],r.children=[],i.addEventListener("mouseover",function(e){var t,n=r.children.find(e=>1==e.active);null!=n&&null!=(e=o.findClosestElement(e.target,e=>e.parentElement==i))&&null!=(t=o.Menu.getItem(e))&&t!=n&&(e=n.childrenVisible,n.active=!1,n.childrenVisible=!1,t.element.focus(),t.active=!0,t.childrenVisible=e)}),i.addEventListener("keydown",e=>t._keydown_arrow(e)),void e.on("mouseenter",">.X-Menu",function(e){}))}).prototype,o.template.inherit(s,{ctrlKey:Symbol("MenuBar")}),o.template.defineProperties(e,{element:{get:function(){return this.getPrivate().element},set:function(){throw new Error("'MenuBar.element' cannot be assigned to -- it is read only")}},elementMenuAbstract:{get:function(){return this.getPrivate().elementMenuAbstract},set:function(){throw new Error("'MenuBar.elementMenuAbstract' cannot be assigned to -- it is read only")}},children:{get:function(){return this.getPrivate().children.slice()},set:function(){throw new Error("'MenuBar.children' cannot be assigned to -- it is read only")}}}),e.add=function(){if(1==arguments.length&&"string"==typeof arguments[0])return this.addName.apply(this,arguments);if(1==arguments.length&&arguments[0]instanceof MenuItem==1)return this.addMenu.apply(this,arguments);if(1==arguments.length&&"object"==typeof arguments[0])return this.addOption.apply(this,arguments);throw new Error("arguments do not match with any overloads.")},e.addOption=function(e){var t=this.getPrivate(),n=null!=t.elementMenuAbstract?t.elementMenuAbstract.cloneNode(!0):null,n=new o.Menu(n);return n.getPrivate().elementMenuAbstract=t.elementMenuAbstract,null!=e.icon&&(n.icon=e.icon),null!=e.name&&(n.name=e.name),null!=e.shortcut&&(n.shortcut=e.shortcut),this.addMenu(n),n},e.addName=function(e){return this.addOption({name:e})},e.addMenu=function(e){var t=this.getPrivate(),n=e.getPrivate();t.children.push(e),t.element.appendChild(n.element),-1==n.element.tabIndex&&(n.element.tabIndex=0)},e._keydown_arrow=function(e){var t,n,i=e.key,r=this.getPrivate();"ArrowLeft"!=i&&"ArrowRight"!=i||null!=(t=r.children.find(e=>1==e.active))&&(n=r.children.indexOf(t),"ArrowRight"==i?n++:n--,(n=n<0?r.children.length-1:n)>=r.children.length&&(n=0),(r=r.children[n])!=t)&&(0==t.childrenVisible?(r.element.focus(),e.preventDefault()):0!=e.defaultPrevented||"ArrowLeft"!=i&&"ArrowRight"!=i||(r.element.focus(),r.childrenVisible=!0,0<r.children.length&&(r.children[0].active=!0),e.preventDefault()))})}(),function(){let r=intell.component,n=(r={},(intell.component=r).config),o=(n={rootDir:"/component/"},r.manifests),s=(o=[],[""].splice());intell.ctrl.template.defineProperties(r,{config:{get:function(){return n},set:function(e){null!=e.rootDir&&(n.rootDir=e.rootDir)}},manifests:{get:function(){return o},set:function(){throw new Error("'intell.component.manifests' cannot be assigned to -- it is read only")}}}),r.addManifest=function(e){var t=Object.assign({},e);return null==t.html&&(t.html=e.name+"/index.html"),null!=t.html&&(t.html=new URL(n.rootDir+t.html,location).href),null!=t.js&&(t.js=new URL(n.rootDir+t.js,location).href),null!=t.css&&(t.css=t.css.map(e=>new URL(n.rootDir+e,location).href)),o.push(t),t},r.getManifest=async function(t){let n=o.find(e=>e.name==t);if(null!=(n=null==n?this.addManifest({name:t}):n).html&&null==n._html){var e=await fetch(n.html);if(200!==e.status)throw new Error("'"+t+"' component failed to fetch '"+n.html+"'");e=await e.text();n._html=e}if(null!=n.js&&null==n._default){try{var i=await import(n.js)}catch(e){throw new Error("'"+t+"' component failed to dynamically import module '"+n.js+"'")}if("function"!=typeof i.default)throw new Error("'"+t+"' component must export default function");n._default=i.default}return null!=n.css&&n.css.forEach(e=>{var t;-1==s.indexOf(e)&&(s.push(e),t=$('<link href="'+e+'" rel="stylesheet">'),document.head.append(t[0]),s.push(e))}),n},r.transform=async function(t){if(null==t)throw new Error("Element component cannot be null");if("COMPONENT"!=t.tagName)throw new Error("Element tag must be component");var e=t.getAttribute("cname"),e=await r.getManifest(e),n=$(e._html);const i=n[0];if(1<n.length)throw new Error("Components can't have more than one element.");t.getAttributeNames().forEach(function(e){switch(e){case"cname":break;case"class":i.classList.add(...t.classList);break;default:i.setAttribute(e,t.getAttribute(e))}}),i.querySelectorAll("children").forEach(e=>{e.replaceWith(...intell.ctrl.duplicateNodes(t.childNodes))}),t.replaceWith(i),await r.transformAll(i),null!=e._default&&e._default(i,t)},r.transformAll=async function(e){for(var t=[...e.querySelectorAll("component")].filter(e=>null==e.parentElement.closest("component")),n=0;n<t.length;n++){var i=t[n];await r.transform(i)}}}(),null==String.prototype.between?String.prototype.between=function(e,t,n){var i,r=this.indexOf(e);return-1==r||-1==(i=this.indexOf(t,r+e.length))?null:1==n?this.substring(r,i+t.length):this.substring(r+e.length,i)}:console.warn("String.prototype.between is already exists");
//# sourceMappingURL=intell.min.js.map